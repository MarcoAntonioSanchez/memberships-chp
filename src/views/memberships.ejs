<%- include("partials/_header") %>
<div class="custom-empty-half-space"></div>
<h1 class="text-light text-uppercase text-center">Membresías</h1>
<div class="custom-empty-half-space"></div>
<div class="container">
  <div class="row">
    <div class="col-md-4 col-sm-12 mx-auto" style="display: none">
      <div class="card-body w-100 bg-light p-3 rounded-1 custom-card-shadow">
        <form action="/add" method="POST" id="mi-formulario">
          <input
            type="number"
            name="id"
            placeholder="ID de Membresía"
            class="form-control mb-2"
            hidden
          />
          <select
            class="form-select mb-2"
            name="branch"
            aria-label="Default select example"
          >
            <option selected>Sucursal</option>
            <option value="Izcalli">Izcalli</option>
            <option value="Coacalco">Coacalco</option>
            <option value="Las Américas">Las Américas</option>
            <option value="Satélite">Satélite</option>
            <option value="Lindavista">Lindavista</option>
            <option value="Bosques de Aragón">Bosques de Aragón</option>
            <option value="Mariano Escobedo">Mariano Escobedo</option>
            <option value="Sullivan">Sullivan</option>
            <option value="Narvarte Oriente">Narvarte Oriente</option>
            <option value="Coapa">Coapa</option>
            <option value="Tlalpan">Tlalpan</option>
          </select>
          <select
            class="form-select mb-2"
            name="membership"
            aria-label="Default select example"
          >
            <option selected>Membresía</option>
            <option value="VIP">VIP</option>
            <option value="Preferente">Preferente</option>
          </select>
          <input
            type="text"
            name="name"
            placeholder="Nombre"
            class="form-control mb-2"
            autofocus
          />
          <select
            class="form-select mb-2"
            name="gender"
            aria-label="Default select example"
          >
            <option selected>Género</option>
            <option value="Hombre">Hombre</option>
            <option value="Mujer">Mujer</option>
            <option value="Otro">Otro</option>
          </select>
          <input
            type="email"
            name="address"
            placeholder="E-mail"
            class="form-control mb-2"
          />
          <input
            type="text"
            name="phone"
            placeholder="Teléfono"
            class="form-control mb-2"
          />
          <p class="mt-3">Medios de contacto preferidos:</p>
          <div class="form-check mb-2">
            <input
              class="form-check-input"
              type="checkbox"
              value="Correo"
              id="checkbox-email"
            />
            <label class="form-check-label" for="checkbox-email">
              Correo electrónico
            </label>
          </div>
          <div class="form-check mb-2">
            <input
              class="form-check-input"
              type="checkbox"
              value="Teléfono"
              id="checkbox-tel"
            />
            <label class="form-check-label" for="checkbox-tel">
              Teléfono
            </label>
          </div>
          <div class="form-check mb-4">
            <input
              class="form-check-input"
              type="checkbox"
              value="Whatsapp"
              id="checkbox-wa"
            />
            <label class="form-check-label" for="checkbox-wa"> WhatsApp </label>
          </div>
          <input
            type="hidden"
            name="cmeans"
            placeholder="Medios de contacto"
            class="form-control mb-2"
            id="checkbox-contact-means"
            value=" "
          />
          <label class="mb-0 pb-0" for="startDate">Fecha de nacimiento:</label>
          <input
            id="startDate"
            class="form-control mt-2 pt-0 mb-2"
            type="date"
            name="birthdate"
            placeholder="Fecha de nacimiento"
          />
          <input
            type="text"
            name="variableQR"
            placeholder="variableQR"
            class="form-control mb-2"
            hidden
          />
          <input
            type="text"
            name="active"
            value="1"
            class="form-control mb-2"
            hidden
          />
          <button
            type="submit"
            class="btn btn-success mt-3 w-100 text-uppercase fw-semibold mobile-btn-csize btn-custom-shadow"
          >
            Guardar membresía
          </button>
        </form>
      </div>
    </div>
    <div class="custom-empty-half-space"></div>
    <div class="col-12">
      <table class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Sucursal</th>
            <th>Membresía</th>
            <th>Nombre</th>
            <th>Género</th>
            <th>E-mail</th>
            <th>Teléfono</th>
            <th>Medios de contacto</th>
            <th>Cumpleaños</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% if (members) { %> <% for(var i = 0; i < members.length; i++) { %>
          <tr>
            <td data-cell="id"><%= (i + 1) %></td>
            <td data-cell="sucursal"><%= members[i].branch %></td>
            <td data-cell="membresía"><%= members[i].membership %></td>
            <td data-cell="nombre"><%= members[i].name %></td>
            <td data-cell="género"><%= members[i].gender %></td>
            <td data-cell="e-mail"><%= members[i].address %></td>
            <td data-cell="teléfono"><%= members[i].phone %></td>
            <td data-cell="medios"><%= members[i].cmeans %></td>
            <td data-cell="cumpleaños"><%= members[i].birthdate %></td>
            <td data-cell="acciones">
              <div class="d-flex flex-column">
                <a
                  href="/update/<%= members[i].id %>"
                  class="btn btn-dark w-100 my-1 fw-semibold text-uppercase mobile-btn-csize btn-custom-shadow"
                >
                  Editar
                </a>
                <a
                  href="/delete/<%= members[i].id %>"
                  class="btn btn-danger w-100 my-1 fw-semibold text-uppercase mobile-btn-csize btn-custom-shadow"
                >
                  Eliminar
                </a>
              </div>
            </td>
          </tr>
          <% } %> <% } %>
        </tbody>
      </table>
    </div>
  </div>
</div>
<script src="/js/contact-means.js"></script>
<%- include("partials/_footer") %>
